# README

# 1.アプリケーション名

トイレにいっといれアプリ

# 2.アプリケーション概要
「トイレにいっといれアプリ」は、現在地から近くにあるトイレを地図上に表示するWebアプリです。

このアプリでは、以下の機能が利用できます:

-   トイレの新規登録機能: ユーザーは新しいトイレ情報を登録することができます。
-   トイレの詳細情報表示機能: ユーザーは登録されたトイレの詳細情報を確認することができます。以下の情報が含まれます:
    -   トイレの種類: 洋式または和式
    -   ウォシュレットの有無
    -   暖房便座の有無
    -   幼児設備の有無
    -   男女別または男女共用
    -   多機能トイレの機能
    -   パウダールームの有無
    -   除菌クリーナーの有無
    -   トイレットペーパーの有無
    -   スリッパの有無

「トイレにいっといれアプリ」を使って、いつでも近くのトイレを探しやすくしましょう！
# 3.URL
https://maps-toilet.onrender.com

※Maps JavaScript APIの関係で、Webアプリの表示には少々お時間がかかる場合があります。ご迷惑をおかけいたします。

# 4.テスト用アカウント
-   Basic認証ID: admin
-   Basic認証パスワード: 2222
-   メールアドレス: ggg@ggg
-   パスワード: ggg111

# 5.利用方法

## 5.1.トイレの情報を登録する
---
1.  トップページのヘッダーから新規登録を行います。

2.  「自慢のトイレを登録しよう」ボタンをクリックし、必須項目（住所、タイトル、説明文、洋式和式、ウォシュレット、暖房便座、幼児設備、男女共用別、多機能トイレ、パウダールーム、除菌クリーナー、トイレットペーパー、スリッパ）を入力して投稿します。

3.  入力された住所をもとに緯度経度が算出され、トップページのGoogleマップ上にトイレのマーカーが表示されます。

## 5.2.トイレを探す
---
1.  トップページのGoogleマップには、現在位置（トイレを我慢している子供のマーカー）とトイレのマーカーが表示されます。

2.  現在位置から近くのトイレを探すことができます。

## 5.3トイレの情報を確認する
---
1.  トイレのマーカーをクリックすると、吹き出しに登録したタイトル名が表示されます。

2.  タイトル名のリンクをクリックすると、詳細ページに遷移します。

3.  詳細ページではトイレの情報が確認できます。情報には以下が含まれます:
    -   住所
    -   タイトル名
    -   説明文
    -   洋式和式
    -   ウォシュレット
    -   暖房便座
    -   幼児設備
    -   男女共用別
    -   多機能トイレ
    -   パウダールーム
    -   除菌クリーナー
    -   トイレットペーパー
    -   スリッパ

利用方法を通じて、「トイレにいっといれアプリ」を便利に活用しましょう！

# 6.アプリケーションの開発背景
私は以前の営業職の経験で、外回り中に頻繁にトイレで悩むことがありました。近年、コンビニなどで利用できるトイレが減少し、公衆トイレでは和式が多く、清潔で使いやすいトイレを見つけることが難しくなっていました。また、友人たちに話を聞いてみると、旅行先でトイレで困ることがあったり、幼児を連れているとベビーチェアの有無などを確認する手間を感じている人が多いことが分かりました。

そこで、近くのトイレを簡単に見つけられると同時に、トイレの詳細情報を確認できるアプリの開発を考えました。この思いから、「トイレにいっといれアプリ」の開発に取り組むことになりました。

# 7.洗い出した要件
要件定義をまとめたスプレッドシートのリンクを以下に共有します:

[要件定義スプレッドシート](https://docs.google.com/spreadsheets/d/1yCXOJZwOA0XiDjhwHnYCtvjv8ed2rR3Xor5gt8B2rfU/edit?usp=sharing)

開発の参考となる要件を詳細にまとめていますので、ご確認ください。

# 8.実装した機能の説明とイメージ

1.  ユーザー新規登録機能

    トップページのヘッダーからユーザー新規登録を行う
[![Image from Gyazo](https://i.gyazo.com/ab5f89b01a28e6867541f9e9007d30f8.gif)](https://gyazo.com/ab5f89b01a28e6867541f9e9007d30f8)


2.  トイレ情報の登録機能

    「自慢のトイレを登録しよう」ボタンから、必須項目(住所、タイトル、説明文、洋式和式、ウォシュレット、暖房便座、幼児設備、男女共用別、多機能トイレ、パウダールーム、除菌クリーナー、トイレットペーパー、スリッパ)を入力して投稿します。入力された住所から緯度経度が算出され、トップページのGoogleマップにトイレマーカーが表示されます。
[![Image from Gyazo](https://i.gyazo.com/08191078947154d040f809e916d66fb8.gif)](https://gyazo.com/08191078947154d040f809e916d66fb8)



3.  近くのトイレを探す機能

    トップページのGoogleマップには、現在位置（トイレを我慢する少年）とトイレマーカー（トイレの画像）が表示されます。現在位置から近くのトイレを探すことができます。
[![Image from Gyazo](https://i.gyazo.com/38bdf65b5ad382ae5cd24e806e6c2d79.gif)](https://gyazo.com/38bdf65b5ad382ae5cd24e806e6c2d79)


4.  トイレの詳細情報確認機能

    トイレのマーカーをクリックすると吹き出しに登録したタイトル名が表示されます。タイトル名をクリックすると、詳細ページに遷移します。詳細ページではトイレの情報（住所、タイトル名、説明文、洋式和式、ウォシュレット、暖房便座、幼児設備、男女共用別、多機能トイレ、パウダールーム、除菌クリーナー、トイレットペーパー、スリッパ）を確認することができます。
[![Image from Gyazo](https://i.gyazo.com/f1dd573dddf8cdc16ec57ffeb3c7fb07.gif)](https://gyazo.com/f1dd573dddf8cdc16ec57ffeb3c7fb07)


以上が実装された機能の一部であり、イメージとともに説明させていただきました。

# 9.実装予定の機能
以下に、実装予定の機能をまとめました。
1.  編集機能: トイレ情報の編集が可能となります。
2.  削除機能: 登録したトイレ情報を削除することができます。
3.  コメント機能: ユーザー間でトイレに関するコメントをやり取りできる機能です。
4.  トップページの下に詳細が表示されるようにする: トップページにおいて、より詳細なトイレ情報を表示する領域を設けます。
5.  住所入力なしでトイレマーカーを登録できるようにする: トイレの位置情報を手動でマーカーに設定できる機能を追加し、住所入力を省略できるようにします。
6.  長期的な実装予定機能:
    -   TOTO様との連携: TOTO様との協力により、より詳細なトイレ情報を提供することを目指します。
    -   海外対応: 海外旅行時にも利用できるトイレマップアプリに拡張し、海外のトイレ情報も提供します。

# 10.データベース設計
データベースの設計については、以下のイメージ画像をご参照ください。
[![Image from Gyazo](https://i.gyazo.com/82a2c48f69b7d18e8aad24b2ff2cea61.png)](https://gyazo.com/82a2c48f69b7d18e8aad24b2ff2cea61)

# 11.画面遷移図
画面遷移図については、以下のイメージ画像をご参照ください。
[![Image from Gyazo](https://i.gyazo.com/d181c85904231eb5aaeec310b8ad4b0d.png)](https://gyazo.com/d181c85904231eb5aaeec310b8ad4b0d)

# 12.開発環境
以下が使用された開発環境です。

-   フロントエンド: HTML/CSS, JavaScript
-   バックエンド: Ruby, Ruby on Rails
-   インフラ: render
-   テスト: RSpec, FactoryBot, Faker
-   タスク管理: GitHub

# 13.ローカルでの動作方法
以下の手順で、ローカル環境での動作を確認できます。

1.  コマンドラインで以下のコマンドを順に実行します。
    ```
    % git clone https://github.com/nennekotaro/maps-toilet
    % cd maps-toilet
    % bundle install
    % yarn install
    ```
2.  上記コマンドの実行後、ローカル環境でアプリを起動できます。

# 14.工夫したポイント
以下に、アプリ作成時の工夫したポイントをまとめました。

1.  ユーザーが実際に利用する状況を意識しました。
    -   トップページのGoogleマップが現在位置から始まるように設定しました。利用時のタイミングに即座に近くのトイレを探せるように配慮しました。

2.  利用ユーザーを若年層を対象としました。
    -   清潔好きな若年層のニーズに合わせ、トイレ情報に除菌クリーナーの有無を登録できるようにしました。
    -   子連れの親を対象に、ベビーチェアやおむつ交換台の有無、男性トイレにも設置されているかどうかを確認できる機能を追加しました。
    -   Googleマップのマーカーは、若年層に親しみやすいデザインにすることにこだわりました。

以上が、データベース設計や画面遷移図、開発環境、工夫したポイントに関する情報です。
